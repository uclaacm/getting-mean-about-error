<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mean Squared Error Microlesson - ACM Teach LA Learning Labs</title>
    <meta name="description" content="An ACM Teach LA microlesson focused on Mean Squared Error: what it is, how it works, and why it's used. Designed to be a supplement for linear regression in our AI & Machine Learning class.">

    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

    <link rel="stylesheet" href="css/bulma.min.css?v0.8.0">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <header>
    <nav class="navbar is-fixed-top is-spaced has-border-bottom-green" role="navigation" aria-label="main navigation">
      <div class="container">
        <div class="navbar-brand">
          <a class="navbar-item" href="#top">
            <span class="title is-5">Getting Mean About Error</span>
          </a>

          <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>

        <div class="navbar-menu">
          <div class="navbar-end">
            <a class="navbar-item" href="https://teachla.uclaacm.com">
              <img src="img/logo-teachla.svg" />
              <span class="title is-5">&nbsp;a Teach LA learning lab</span>
              <!-- <div class="buttons">
                <a class="button is-primary">
                  <strong>Linear Regression Lesson</strong>
                </a>
              </div> -->
            </a>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <body id="top">
    <section class="section has-background-teachla-green">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h1 class="title is-2">Let's get <u>mean</u> about error.</h1>
                <div class="title is-4">Mean Squared Error, that is.</div>
                <p>Questions we'll answer in this microlesson:</p>
                <ol class="has-text-weight-bold is-size-5">
                  <li>What is Mean Squared Error?</li>
                  <li>How do you calculate Mean Squared Error?</li>
                  <li>When and why do we use Mean Squared Error?</li>
                </ol>
                <p>And, we'll have an opportunity to apply it to a real-life example: <span class="has-text-weight-bold">Moore's Law</span>.</p>
                <div class="buttons">
                  <a class="button is-dark" href="https://docs.google.com/presentation/d/16b5fIM80mlOgvMK4_ly5ESvD9a01t1rolWXHVtvi0YQ/">Accompanying Lesson: Linear Regression</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="section has-background-white-ter">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-3">First, why do we care about error?</h2>
                <p class="is-size-5">
                  Let's say we just performed an experiment and collected some data (<b>Figure 1</b>).
                </p>
                <p class="is-size-5">
                  We want to figure out the relationship between our points. So, we've made two predictions: the <i style="color: red">red</i>
                  line and the <i style="color: green">green</i> line. But, how do we know which one is better?
                </p>
                <p class="is-size-5">
                  We can look at the <span class="has-text-weight-bold">error.</span> In statistics, <span class="has-text-weight-bold">error</span>
                  is a measure of how wrong a prediction is.<span class="has-text-weight-bold"> The better the prediction, the smaller the error</span>.
                  So, we should pick the prediction with the smaller error.
                </p>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="box">
              <div id="error-graph-one" class="has-text-centered">
              </div>
              <h2 class="title is-5 has-text-centered">
                Figure 1
              </h2>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="def" class="section has-background-teachla-green">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-3">
                  Introducing <u>Mean Squared Error</u>.
                </h2>
                <p class="is-size-5"><span class="has-text-weight-bold">Mean Squared Error</span> (MSE) is one way we can calculate the error of a predictive model. It's not too tricky; here's how it works:</p>
                <ol class="is-size-5">
                  <li>Start with an error of 0.</li>
                  <li>For each point, take the difference between the collected data and our prediction; square it.</li>
                  <li>Add it to our error, and repeat for each point.</li>
                  <li>Divide this sum by the number of points to get the average!</li>
                </ol>
                <p class="is-size-5">That wasn't too bad, wasn't it? Sometimes (like in textbooks), you'll see it in more complicated math notation:</p>
                <div>
                  \[ MSE = \frac{1}{m} \sum\limits_{i=1}^m (y-\hat y)^2 \]
                </div>
                <p class="is-size-5">But don't be scared! Now, you know what it means!</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="section has-background-white-ter">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-3">
                  Some things to note:
                </h2>
                <ul class="is-size-4">
                  <div class="columns">
                    <div class="column">
                      <li>
                        <p class="is-size-4">
                          MSE is <b> always nonnegative</b>.
                        </p>
                        <p class="is-size-5">
                          So, whether your prediction is greater than or less than your data point will have no bearing on your error!
                        </p>
                        <div class="is-size-5">
                          \[ (5-3)^2=(3-5)^2=4 \]
                        </div>
                        <p class="is-size-5">
                          The following two graphs will have the <b>same</b> MSE because every point is vertically equidistant from the prediction line. <br>
                        </p>
                        <div id="notes-graph-one" class="notes-graph">
                        </div>
                        <div id="notes-graph-two" class="notes-graph">
                        </div>
                      </li>
                    </div>
                    <div class="column">
                      <li>
                        <p class="is-size-4">
                          Because we are <b>squaring</b> the differences, bigger differences are heavily (nonlinearly) punished!
                        </p>
                        <p class="is-size-5">
                          <i>Example</i>:
                        </p>
                        <div>
                          \[ (5-3)^2=4 \]
                          \[ (6-3)^2=9 \]
                        </div>
                        <p class="is-size-5">
                          In this example, even though 5 and 6 are just <b>1 unit apart</b>, their squared errors, when compared against 3, are <b>5 units apart</b>.
                        </p>
                        <p class="is-size-5">
                          Therefore, outliers in our data can be pretty hurtful to our MSE.
                        </p>
                      </li>
                    </div>
                  </div>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="wt" class="section has-background-teachla-green">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-4">
                  Let's find the MSE of each line in Figure 1 above, starting with the <i style="color: red">red</i> line.
                </h2>
                <p class="is-size-5">
                  The equation of the line is:
                </p>
                <p class="is-size-5">
                  \[y = \frac{3}{2}x \]
                </p>
                <p class="is-size-5">
                  Notice the <b>two sets of data points</b> in Figure 1a.
                  The <i style="color:blue">blue</i> points are our <b>original data values</b>, and the <i>black</i> points are our <b>predicted values</b> based on the line equation.
                </p>
                <p class="is-size-5">
                  With MSE, we will be dealing with the <b>vertical distances</b> between the two sets of data points.
                </p>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="box">
                <div id="error-graph-two" class="has-text-centered">
                </div>
                <h2 class="title is-5 has-text-centered">
                  Figure 1a
                </h2>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="section has-background-white-ter">
      <div class="container">
        <div class="content">
          <div class="box" id="calculations">
            <h2 class="title is-3">
              Now, the math.
            </h2>
            <p class="is-size-4 has-text-centered" id="step-text">
            </p>
            <p class="is-size-4 has-text-centered anime-1">
              \[ (1,\:2)<!--\:(2,3), \:(3,6), \:(4,4), \:(5,8), \:(6,9)--> \]
            </p>
            <p class="is-size-4 has-text-centered anime-2 go-up">
              \[ 2 \]
            </p>
            <p class="is-size-4 has-text-centered anime-3 go-up">
              \[ 1.5 \]
              </p>
            <p class="is-size-4 has-text-centered anime-4 go-up">
              We can now subtract the two to find the distance,<br>or "error," for the first point.
            </p>
            <p class="is-size-4 has-text-centered anime-5 fade">
              \[ 2 - 1.5 = 0.5 \]
            </p>
            <p class="is-size-4 has-text-centered anime-5 fade">
              Repeating this for all six points, we get the following errors:<br>
            </p>
            <p class="is-size-4 has-text-centered anime-5 stay">
              \[ 0.5 \:\:\:\:\:\:0 \:\:\:\:\:\:1.5 \:\:\:-2 \:\:\:\:\:\:0.5 \:\:\:\:\:\:0 \]
            </p>
            <p class="is-size-4 has-text-centered anime-6">
              Now, we square these errors and sum them (almost there!).
            </p>
            <p class="is-size-4 has-text-centered anime-6">
              \[ (-0.5)^2 + 0^2  + (-1.5)^2 + 2^2 + (-0.5)^2 + 0^2 \]
            </p>
            <p class="is-size-4 has-text-centered anime-6">
              \[ = 6.75 \]
            </p>
            <p class="is-size-4 has-text-centered anime-7">
              Finally, since we want to take the mean of the squared errors,<br>
              we divide by the number of data points -- in our case, 6.
            </p>
            <p class="is-size-4 has-text-centered anime-7">
              \[ 6.75 \div 6 \]
            </p>
            <p class="is-size-3 has-text-centered anime-7">
              \[ = 1.125\]
            </p>
            <button class="button is-dark" id="prev" onclick="setStep(-1, true)">Back</h2>
            <button class="button is-dark" id="next" onclick="setStep(1, false)">Next</h2>
          </div>
        </div>
      </div>
    </section>
    <section class="section has-background-teachla-green">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-3">
                  Your turn!
                </h2>
                <p class="is-size-5">
                  Let's try applying the previous steps to the second line of fit,
                </p>
                <p class="is-size-4">
                  \[y = x + 2\]
                </p>
                <div id="error-graph-three" class="has-text-centered">
                </div>
                <h2 class="title is-5 has-text-centered">
                  Figure 1b
                </h2>
                <p class="is-size-6">
                  If you cannot do mental math for your life, use the right side to help you!
                </p>
                <label class="label">Calculated MSE:</label>
                <div class="field">
                <input class="input is-success" type="text" id="mse-input" value="" />
                </div>
                <button class="button is-dark" id="mse-submit">Submit</button>
                <div class="content is-inline">
                  <div class="notification is-pulled-right" id="check-answer" style="width: 25rem; display: none">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="box">
            <div class="content">
              <p class="is-size-5">
                Let's take <b>one point at a time</b>, from left to right in Figure 1b.
                <i class="fas fa-check-square"></i>
              </p>
              <p class="is-size-6">
                For example, our first point has a y-value of <b>2</b> but an expected y-value of <b>3</b>.
                So our squared error for Point 1 is:
              </p>
              <div>
                \[ (2-3)^2=(-1)^2=1 \]
              </div>
              <p class="is-size-6">
                Find the squared error for all six points.
              </p>
            </div>
            <label class="label is-inline" style="margin-right: 1rem">Point 1:</label>
            <div class="field is-inline">
              <input class="input is-success point-input is-inline" type="text" value="1" style="width: 35%;"/>
            </div>
            <button class="button is-dark point-submit">Check</button>
            <div class="content is-pulled-right">
              <div class="notification point-response" style="display: none">
              </div>
            </div><br><br>
            <label class="label is-inline" style="margin-right: 1rem">Point 2:</label>
            <div class="field is-inline">
              <input class="input is-success point-input is-inline" type="text" value="" style="width: 35%;"/>
            </div>
            <button class="button is-dark point-submit">Check</button>
            <div class="content is-pulled-right">
              <div class="notification point-response" style="display: none">
              </div>
            </div><br><br>
            <label class="label is-inline" style="margin-right: 1rem">Point 3:</label>
            <div class="field is-inline">
              <input class="input is-success point-input is-inline" type="text" value="" style="width: 35%;"/>
            </div>
            <button class="button is-dark point-submit">Check</button>
            <div class="content is-pulled-right">
              <div class="notification point-response" style="display: none">
              </div>
            </div><br><br>
            <label class="label is-inline" style="margin-right: 1rem">Point 4:</label>
            <div class="field is-inline">
              <input class="input is-success point-input is-inline" type="text" value="" style="width: 35%;"/>
            </div>
            <button class="button is-dark point-submit">Check</button>
            <div class="content is-pulled-right">
              <div class="notification point-response" style="display: none">
              </div>
            </div><br><br>
            <label class="label is-inline" style="margin-right: 1rem">Point 5:</label>
            <div class="field is-inline">
              <input class="input is-success point-input is-inline" type="text" value="" style="width: 35%;"/>
            </div>
            <button class="button is-dark point-submit">Check</button>
            <div class="content is-pulled-right">
              <div class="notification point-response" style="display: none">
              </div>
            </div><br><br>
            <label class="label is-inline" style="margin-right: 1rem">Point 6:</label>
            <div class="field is-inline">
              <input class="input is-success point-input is-inline" type="text" value="" style="width: 35%;"/>
            </div>
            <button class="button is-dark point-submit">Check</button>
            <div class="content is-pulled-right">
              <div class="notification point-response" style="display: none">
              </div>
            </div><br><br>
            <div class="message is-dark is-hidden" id="done-msg">
              <div class="message-header">
                <p>Perfect!</p>
              </div>
              <div class="message-body">
                <div class="content">
                  <p>
                    You can now calculate the MSE. Enter your answer in the field to the left.
                  </p>
                  <div class="dropdown is-pulled-right is-right is-hoverable">
                    <div class="dropdown-trigger">
                      <div class="notification has-background-teachla-green-dark" style="cursor: pointer">
                        Hint
                      </div>
                    </div>
                    <div class="dropdown-menu" role="menu">
                      <div class="dropdown-content">
                        <div class="dropdown-item">
                          <p>Take the average of your answers!</p>
                        </div>
                      </div>
                    </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="rwe" class="section has-background-white-ter">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-3">
                  Now, a <u>real-world example</u>.
                </h2>
                <p class="is-size-5">
                  Your goal is <b>to fit a function to best model Moore's Law</b>.
                </p>
                <p class="is-size-5">
                  Before we get fitting, we need to notice that this graph is <b>not linear</b>; it is <b>exponential</b>.
                  This can actually cause some bias in our regression line, as our data is not normally distributed.
                </p>
                <div class="is-size-4">
                  \[ y = ae^{bx} \]
                </div>
                <p class="is-size-5">
                  We can easily fix this by converting the graph to a <b>logarithmic</b> scale (taking the <i>natural log</i> of
                  both sides).
                </p>
                <div class="is-size-4">
                  \[ \ln{y} = \ln{a} + bx \]
                </div>
                <p class="is-size-5">
                  Don't worry too much if this is confusing; the idea is that we are converting this exponential
                  graph to a linear one, so that our MSE is as unbiased as possible.
                </p>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="box">
              <div id="data-graph" class="has-text-centered">
              </div>
              <h2 class="title is-5 has-text-centered">
                Moore's Law (1971-2018)
              </h2>
              <p class="is-size-5 is-italic">
                This law was the observation that the number of transistors that could fit on a microchip
                would <b>double every two years</b> (first proclaimed in 1965).
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="section has-background-teachla-green">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-3">
                  Experiment with functions and try to find a good fit!
                </h2>
                <p class="is-size-6 has-text-weight-bold">
                  Your function:
                </p>
                <div class="is-size-4 is-inline math-format">
                  ln <i>y</i> = ln
                </div>
                <div class="field is-inline">
                  <input class="input is-rounded" type="text" id="constant-input" value="1/100000"/>
                </div>
                <div class="is-size-4 is-inline math-format">
                  + 
                </div>
                <div class="field is-inline">
                  <input class="input is-rounded" type="text" id="coefficient-input" value="2.2"/>
                </div>
                <div class="is-size-4 is-inline math-format">
                  <i>x</i>
                </div>
                <button class="button is-dark is-pulled-right" id="function-submit">Find MSE</button>
                <div class="content">
                  <div class="notification has-background-teachla-green-dark" id="check-function" style="display: none">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="column">
            <div class="box">
              <div id="data-graph-fitted" class="has-text-centered">
              </div>
              <h2 class="title is-5 has-text-centered">
                Moore's Law (1971-2018)
              </h2>
              <button class="button is-dark" id="scale-convert">Convert Scale</button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="sum" class="section has-background-white-ter">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <h2 class="title is-3">To recap...</h2>
              <div class="content">
                <ol class="is-size-5">
                  <li>
                    <p class="is-size-5">
                      MSE punishes positive and negative error <b>equally</b>, and <b>nonlinearly</b>.
                    </p>
                  </li>
                  <li>
                    <p class="is-size-5">
                      It is always a <b>nonnegative</b> value, and the smaller the MSE, the better our regression line.
                    </p>
                  </li>
                  <li>
                    <p class="is-size-5">
                      We should restrict the use of MSE to linear models of normal distribution, to minimize bias.
                    </p>
                  </li>
                </ol>
                <p class="is-size-5">
                  Keep in mind, there are various metrics to measure error, and MSE is just one of them.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="section has-background-teachla-green">
      <div class="container">
        <div class="columns">
          <div class="column">
            <div class="box">
              <div class="content">
                <h2 class="title is-3">
                  How can I tell if my MSE is "good" or "bad"?
                </h2>
                <p class="is-size-5">
                  Unfortunately, there is no definite answer, as it depends heavily on the
                  context of the problem.
                </p>
                <p class="is-size-5">
                  It isn't <i>always</i> good to have a small MSE. If it is too close to 0, we might
                  see <b>overfitting</b>. This means our function is too "tailored" for our specific
                  data points and might be way off if we tried a new set of similar data points. Generally, the larger our range of data and the more diverse our data is, the more
                  "OK" it is to have a large MSE.
                </p>
                <p class="is-size-5">
                  The <b>Moore's Law</b> example above demonstrates that a function that is pretty
                  close to the data points might still produce a big MSE, simply because we
                  are working with fairly large numbers. There is no universal rule for what
                  counts as a "good" MSE, but we can probably say that an MSE of 100 would be much more
                  reasonable here than if we were looking at a data set with a range of 10.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <footer class="footer has-text-centered is-dark">
      <div class="content">
        <p class="is-size-6">
          This website was created by the <b>ACM Teach LA Dev Team</b> &#128526;
        </p>
      </div>
    </footer>
    <script src="js/math.min.js"></script>
    <script src="js/d3.min.js"></script>
    <script src="js/function-plot.js?v1.19.1"></script>
    <script src="js/anime.min.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
